<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>game</title>
<link rel="stylesheet" href="css/game.css">
<!--<script src="/socket.io/socket.io.js"></script>--> 
<script type="text/javascript" src="js/game.js"></script>
<link rel="stylesheet" href="css/shop.css">
<link rel="stylesheet" href="css/animation.css">
<!--[if IE 7]><link rel="stylesheet" href="css/shop-ie7.css"><![endif]-->
</head>

<body class="day">
<div id="header">
  <div id="showBODY" style=" position:fixed;left:0;top:0;"></div>
  <span class="mine" id="score"></span><i class="icon-award"></i><span class="top" style="display:none">2000</span>
  <div id="showZB"></div>
  <div id="showOP"></div>
  <div id="showBODY" style="position:fixed;left:0;top:0;"></div>
  <div id="showCHECK" style="position:fixed;left:0;bottom:0;"></div>
</div>
<div id="main">
  <div class="start" id="start"> <i class="icon-play"></i> </div>
  <ul class="btnbox">
    <li id="openset"> <i class="icon-cog"></i> </li>
    <li id="top"> <i class="icon-align-left"></i> </li>
    <li> <i class="icon-star"></i> </li>
  </ul>
  <div class="start" id="random" style="background:#34c69f;"> <i class="icon-shuffle"></i> </div>
</div>
<div id="game">
  <div id="stop"><i class="icon-pause"></i></div>
  <div class="gamebody" id="gamebody"> <i></i> </div>
  <ul class="chosen-list">
    <li id="option1"> </li>
    <li id="option2"> </li>
    <li id="option3"> </li>
  </ul>
  <ul class="chosen-list">
    <li id="op-option1"> </li>
    <li id="op-option2"> </li>
    <li id="op-option3"> </li>
  </ul>
  <div id="optcover"></div>
</div>
<div id="endgame">
  <div class="end">
    <div id="tip">最终分数</div>
    <ul class="endlist">
      <li id="home1" style="display:none"><i class="icon-home"></i></li>
      <li id="replay" style="display:inline-block"><i class="icon-cw"></i></li>
    </ul>
  </div>
</div>
<div id="toplist">
  <p style="font-size:20px;text-align:center;color:#fff;padding-bottom:20px">排行榜</p>
  <ul>
    <li><span>1</span> <span>某某某</span> <span>111</span> <span>2015-3-11 15:00:00</span></li>
    <li><span>2</span> <span>某某某</span> <span>111</span> <span>2015-3-11 15:00:00</span></li>
    <li><span>3</span> <span>某某某</span> <span>111</span> <span>2015-3-11 15:00:00</span></li>
    <li><span>4</span> <span>某某某</span> <span>111</span> <span>2015-3-11 15:00:00</span></li>
    <li><span>5</span> <span>某某某</span> <span>111</span> <span>2015-3-11 15:00:00</span></li>
  </ul>
</div>
<div id="cover"> </div>
<div id="set">
  <ul class="setlist">
    <li id="home" style="display:none"><i class="icon-home"></i></li>
    <li id="day"><i class="icon-moon-inv"></i></li>
    <li id="music"><i class="icon-volume-off"></i></li>
  </ul>
</div>

<script>
		function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if (r != null)
                return unescape(r[2]);
            return null;
        }
	var room=null;
	if (getQueryString("room") != null)
    	 room = getQueryString("room");
	var d = document;
	var height = d.documentElement.clientHeight;
	var width = d.documentElement.clientWidth;
	var cover = d.getElementById('cover');
	cover.style.height = height + 'px';
	d.getElementById('main').style.marginTop = (height - 128) / 2 -106 +"px";
	d.getElementById('day').onclick = function(){
			var body = document.body;
			if(body.className == 'day') {
				body.className="night";
				this.getElementsByTagName('i')[0].className = 'icon-sun';
			}
			else{
				 body.className = 'day';
				 this.getElementsByTagName('i')[0].className = 'icon-moon-inv';
			}
			//document.getElementById('set').style.display = "none";
	}
	d.getElementById('music').onclick = function(){
			var i = this.getElementsByTagName('i')[0];
			(i.className == 'icon-volume-off') ? i.className = 'icon-volume-down' : i.className = 'icon-volume-off';
	}
	d.getElementById('openset').onclick = function(){
		var set = document.getElementById('set');
		if(set.style.display == "block") {
			set.style.display = "none" ;
			}
			
			else 	{
				set.style.display = "block";
				cover.style.display = "block";
			}
	}
	cover.onclick = function(){
		d.getElementById('set').style.display = "none" ;
		d.getElementById('toplist').style.display = "none" ;
		var li = toplist.getElementsByTagName("li");
		for(var i=0;i<li.length;i++)li[i].style.display = "none";
		this.style.display = "none" ;
		d.getElementById('stop').getElementsByTagName('i')[0].className = "icon-pause";
	}
	var aaa=new game(); ;
	d.getElementById('start').onclick = function(){
		d.getElementById('main').style.display="none";
		d.getElementById('game').style.display="block";
		d.getElementById('home1').style.display="inline-block";
		d.getElementById('home').style.display="inline-block";
		d.getElementById('replay').style.display="inline-block";
		aaa.init();
	}
	d.getElementById('stop').onclick = function(){
		
		var set = d.getElementById('set');
		if(set.style.display == "block") {
			set.style.display = "none" ;
			this.getElementsByTagName('i')[0].className = "icon-pause";
		}
		else 	{
			set.style.display = "block";
			cover.style.display = "block";
			this.getElementsByTagName('i')[0].className = "icon-play";
		}
	}
	
	d.getElementById('home').onclick = function(){
				d.getElementById('main').style.display="block";
				d.getElementById('game').style.display="none";
				d.getElementById('replay').style.display="none";
				d.getElementById('endgame').style.display="none";
				this.style.display="none";
				cover.click();
}	
d.getElementById('home1').onclick = function(){
				d.getElementById('main').style.display="block";
				d.getElementById('game').style.display="none";
				d.getElementById('replay').style.display="none";
				d.getElementById('endgame').style.display="none";
				d.getElementById('home').style.display="none";
				this.style.display="none";
				cover.click();
}	
d.getElementById('replay').onclick = function(){
	d.getElementById('endgame').style.display="none";
	aaa.init();
}
d.getElementById("top").onclick = function () {
	    var lst = d.getElementById("toplist");
	    cover.style.display = "block";
	    lst.style.display = "block";
	    lst.style.paddingTop = (height - 375) / 2 + 'px';
	    var li = lst.getElementsByTagName("li");
	    li[0].style.display = "block";
	    var n = 0;
	    var timer = setInterval(function () {
	        n++;
	        li[n].style.display = "block";
	        if (n == 4) clearInterval(timer);
	    }, 300);
	}

		function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if (r != null)
                return unescape(r[2]);
            return null;
        }
	</script>
</body>
</html>
